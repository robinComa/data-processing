<html>
<head>
    <title>DataProcessing : Documentation</title>

    <!-- build:css vendor/bootstrap/bootstrap.min.css -->
    <link rel="stylesheet" href="../bower_components/bootstrap/dist/css/bootstrap.min.css">
    <!-- endbuild -->
    <!-- build:css vendor/highlightjs/highlightjs.css -->
    <link rel="stylesheet" href="../bower_components/highlightjs/styles/idea.css">
    <!-- endbuild -->

    <link rel="stylesheet" href="style/documentation.css">

</head>

<body>

<div class="container">

    <div class="header">
        <ul class="nav nav-pills pull-right">
            <li><a href="index.html">Home</a></li>
            <li class="active"><a href="documentation.html">Documentation</a></li>
            <li><a target="_blank" href="https://github.com/robinComa/data-processing">Project</a></li>
        </ul>
        <h3 class="text-muted">Data Processing</h3>
    </div>

    <div class="row">

        <div class="col-xs-10">
            <section id="processing">
                <h1>Processing</h1>

                <p>
                    Used to do a complex processing out of your DOM. It works on web worker.
                </p>

                <h3>Creation</h3>

                <table class="table table-condensed table-striped">
                    <thead>
                    <tr>
                        <th>Constructor</th>
                        <th>Description</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>new DataProcessing.Processing(&lt;<a href="http://www.w3schools.com/js/js_obj_array.asp">Array</a>&gt; args, &lt;<a href="http://www.w3schools.com/js/js_functions.asp">function</a>&gt; fn)</td>
                        <td>Instantiates a Processing object</td>
                    </tr>
                    </tbody>
                </table>

                <h3>Methods</h3>

                <table class="table table-condensed table-striped">
                    <thead>
                        <tr>
                            <th>Method</th>
                            <th>Return</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>run()</td>
                            <td>this</td>
                            <td>Start the processing on a new web worker</td>
                        </tr>
                    </tbody>
                </table>

                <pre><code id="processing-code"></code></pre>

                <article id="processing-http">

                    <h2>$http</h2>

                    <p>
                        Used to do synchronous AJAX request inside a processing.
                    </p>

                    <h3>Methods</h3>

                    <table class="table table-condensed table-striped">
                        <thead>
                        <tr>
                            <th>Method</th>
                            <th>Return</th>
                            <th>Description</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>get(&lt;<a href="http://www.w3schools.com/js/js_obj_string.asp">String</a>&gt; url)</td>
                            <td>&lt;Object&gt;</td>
                            <td>AJAX JSON request</td>
                        </tr>
                        </tbody>
                    </table>

                    <pre><code id="processing-http-code"></code></pre>

                </article>

            </section>

            <section id="pipe">
                <h1>Pipe</h1>

                <p>
                    Used to exchange processings results and process on a unique "pipe".
                </p>

                <article id="pipe-interface">

                    <h2>Pipe Interface</h2>

                    <p>
                        All pipes objects extend this Pipe interface.
                    </p>

                    <h3>Methods</h3>

                    <table class="table table-condensed table-striped">
                        <thead>
                        <tr>
                            <th>Method</th>
                            <th>Return</th>
                            <th>Description</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>put(&lt;<a href="http://www.w3schools.com/js/js_obj_array.asp">Array</a>&lt;<a href="#processing">Processing</a>&gt;&gt; processings)</td>
                            <td>&lt;this&gt;</td>
                            <td>Put a processings set into a pipeline</td>
                        </tr>
                        <tr>
                            <td>onResult(&lt;<a href="http://www.w3schools.com/js/js_functions.asp">function</a>&gt; fn)</td>
                            <td>&lt;this&gt;</td>
                            <td>Triggered when a processing result is receive</td>
                        </tr>
                        <tr>
                            <td>onProcessing(&lt;<a href="http://www.w3schools.com/js/js_functions.asp">function</a>&gt; fn)</td>
                            <td>&lt;this&gt;</td>
                            <td>Triggered when a processing job is receive</td>
                        </tr>
                        <tr>
                            <td>clear()</td>
                            <td>&lt;this&gt;</td>
                            <td>Remove all the processing jobs and results into the pipe</td>
                        </tr>
                        </tbody>
                    </table>

                </article>

                <article id="pipe-memory">

                    <h2>MemoryPipe</h2>

                    <p>
                        A MemoryPipe is a Pipe. It works on the browser tab.
                    </p>

                    <h3>Creation</h3>

                    <table class="table table-condensed table-striped">
                        <thead>
                        <tr>
                            <th>Constructor</th>
                            <th>Description</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>new DataProcessing.MemoryPipe()</td>
                            <td>Instantiates a MemoryPipe object</td>
                        </tr>
                        </tbody>
                    </table>

                    <pre><code id="pipe-memory-storage-code"></code></pre>

                </article>

                <article id="pipe-session-storage">

                    <h2>SessionStoragePipe</h2>

                    <p>
                        A SessionStoragePipe is a Pipe. It works on the browser during all the navigation. This pipe could be share between multiple browser tabs. It uses the Web Session Storage.
                    </p>

                    <h3>Creation</h3>

                    <table class="table table-condensed table-striped">
                        <thead>
                        <tr>
                            <th>Constructor</th>
                            <th>Description</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>new DataProcessing.SessionStoragePipe()</td>
                            <td>Instantiates a MemoryPipe object</td>
                        </tr>
                        </tbody>
                    </table>

                    <pre><code id="pipe-session-storage-code"></code></pre>

                </article>

                <article id="pipe-local-storage">

                    <h2>LocalStoragePipe</h2>

                    <p>
                        A LocalStoragePipe is a Pipe. It works on the browser. This pipe could be share between multiple browser tabs. It uses the Web Local Storage.
                    </p>

                    <h3>Creation</h3>

                    <table class="table table-condensed table-striped">
                        <thead>
                        <tr>
                            <th>Constructor</th>
                            <th>Description</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>new DataProcessing.LocalStoragePipe()</td>
                            <td>Instantiates a MemoryPipe object</td>
                        </tr>
                        </tbody>
                    </table>

                    <pre><code id="pipe-local-storage-code"></code></pre>

                </article>

            </section>
        </div>

        <div class="col-xs-2">
            <ul id="toc">
                <li class="active">
                    <a href="#processing">
                        Processing
                    </a>
                    <ul>
                        <li>
                            <a href="#processing-http">
                                $http
                            </a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="#pipe">
                        Pipe
                    </a>
                    <ul>
                        <li>
                            <a href="#pipe-interface">
                                Pipe Interface
                            </a>
                        </li>
                        <li>
                            <a href="#pipe-memory">
                                MemoryPipe
                            </a>
                        </li>
                        <li>
                            <a href="#pipe-session-storage">
                                SessionStoragePipe
                            </a>
                        </li>
                        <li>
                            <a href="#pipe-local-storage">
                                LocalStoragePipe
                            </a>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>

    </div>

</div> <!-- /container -->

<!-- build:js vendor/jquery/jquery.min.js -->
<script src="../bower_components/jquery/jquery.min.js"></script>
<!-- endbuild -->
<!-- build:js vendor/bootstrap/bootstrap.min.js -->
<script src="../bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
<!-- endbuild -->
<!-- build:js vendor/highlight/highlight.pack.js -->
<script src="../bower_components/highlightjs/highlight.pack.js"></script>
<!-- endbuild -->

<!-- build:js ../dataProcessing.js -->
<script src="../src/copyright.js"></script>
<script src="../src/DataProcessing.js"></script>
<script src="../src/core/Utils.js"></script>
<script src="../src/core/Class.js"></script>
<script src="../src/pipe/Pipe.js"></script>
<script src="../src/pipe/MemoryPipe.js"></script>
<script src="../src/pipe/StoragePipe.js"></script>
<script src="../src/pipe/LocalStoragePipe.js"></script>
<script src="../src/pipe/SessionStoragePipe.js"></script>
<script src="../src/processing/Processing.js"></script>
<!-- endbuild -->

<script class="code" data-target="#processing-code">
(function(){
    var processing = new DataProcessing.Processing(['A piece of text'], function(text){
        // I am executed by a web worker
        // Do something difficult
        // Your context is only the function with parameters
        return text.length;
    });

    processing.onFinish(function(result){
        console.log(result);
    });

    processing.run();
})();
</script>

<script class="code" data-target="#processing-http-code">
(function(){
    var processing = new DataProcessing.Processing(['$http'], function($http){
        var worker_ip = $http.get('http://ip.jsontest.com/');
        return worker_ip;
    });

    processing.onFinish(function(result){
        console.log(result);
    });

    processing.run();
})();
</script>

<script class="code" data-target="#pipe-memory-storage-code">
(function(){
    var texts = ['A piece of text', 'A piece of text...', 'A piece of text!'];
    var processings = [];
    for(var i in texts){
        processings.push(new DataProcessing.Processing([texts[i]], function(text){
            return text.length;
        }));
    }

    var pipe = new DataProcessing.MemoryPipe();

    pipe.onProcessing(function(processing){
        processing.run();
    });

    pipe.put(processings);

    pipe.onResult(function(result){
        console.log(result);
    });
})();
</script>

<script class="code" data-target="#pipe-session-storage-code">
(function(){
    var texts = ['A piece of text', 'A piece of text...', 'A piece of text!'];
    var processings = [];
    for(var i in texts){
        processings.push(new DataProcessing.Processing([texts[i]], function(text){
            return text.length;
        }));
    }

    var pipe = new DataProcessing.SessionStoragePipe();

    pipe.onProcessing(function(processing){
        processing.run();
    });

    pipe.put(processings);

    pipe.onResult(function(result){
        console.log(result);
    });
})();
</script>

<script class="code" data-target="#pipe-local-storage-code">
(function(){
    var texts = ['A piece of text', 'A piece of text...', 'A piece of text!'];
    var processings = [];
    for(var i in texts){
        processings.push(new DataProcessing.Processing([texts[i]], function(text){
            return text.length;
        }));
    }

    var pipe = new DataProcessing.LocalStoragePipe();

    pipe.onProcessing(function(processing){
        processing.run();
    });

    pipe.put(processings);

    pipe.onResult(function(result){
        console.log(result);
    });
})();
</script>

<script src="script/documentation.js"></script>

</body>

</html>