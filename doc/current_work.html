<html>
<head>
    <title>DataProcessing : Current Work</title>
</head>

<body>

<script src="../dataProcessing.js"></script>

<script>
    (function(){
        var texts = ['A piece of text', 'A piece of text...', 'A piece of text!'];
        var jobs = [];
        for(var i in texts){
            jobs.push(new DataProcessing.Job([texts[i]], function(text){
                return text.length;
            }));
        }

        var pipe = new DataProcessing.MemoryPipe(jobs);

        pipe.onJob(function(job){
            job.run();
        });

        pipe.onResult(function(result){
            console.log('#pipe-memory-storage-console', result);
        });

        pipe.onFinish(function(results){
            console.log('#pipe-memory-storage-console', results);
        });

    })();
    (function(){
        var texts = ['A piece of text', 'A piece of text...', 'A piece of text!'];
        var jobs = [];
        for(var i in texts){
            jobs.push(new DataProcessing.Job([texts[i]], function(text){
                return text.length;
            }));
        }

        var pipe = new DataProcessing.LocalStoragePipe(jobs);

        pipe.onJob(function(job){
            job.run();
        });

        pipe.onResult(function(result){
            console.log('#pipe-local-storage-console', result);
        });

        pipe.onFinish(function(results){
            console.log('#pipe-local-storage-console', results);
        });

    })();
</script>

</body>

</html>